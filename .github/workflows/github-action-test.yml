name: Build and Test Shigu Docker Image
on: 
  #每次master发生推送就会运行一次
  push:
    branches: 
      - master
    tags:
      - test
jobs: 
  regression_test:
    runs-on: ubuntu-latest
    container: choate1990/shigu_robot:melodic-ros-desktop-full
    steps:
      - name: Regression Test 
        shell: bash
        run: |
          cd /root/Shigu && source /root/Shigu/devel/setup.bash && catkin_make run_tests